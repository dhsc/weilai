function browserRedirect(){var e=navigator.userAgent.toLowerCase(),t="ipad"==e.match(/ipad/i),i="iphone os"==e.match(/iphone os/i),n="iphone"==e.match(/iphone/i),o="midp"==e.match(/midp/i),a="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),r="ucweb"==e.match(/ucweb/i),s="android"==e.match(/android/i),l="windows ce"==e.match(/windows ce/i),h="windows mobile"==e.match(/windows mobile/i);t||i||n||o||a||r||s||l||h?YKP.isSupportFlash=!1:YKP.isSupportFlash=!0;var p="youku"==e.match(/youku/i);s&&p&&(YKP.isAndroidYouku=!0),n&&p&&(YKP.isIphoneYouku=!0)}function createViewport(){if(0==YKP.isSupportFlash){var e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no",document.getElementsByTagName("head")[0].appendChild(e)}}function parseJsonStr(e){if("string"!=typeof e)return e;if(/{[^{^}]{0,}}/.test(e))try{e=JSON.parse(e)}catch(t){}return e}function executeScript(){for(var _scripts=document.getElementsByTagName("script"),_len=_scripts.length,i=0;_len>i;i++)if(_scripts[i].src.indexOf("//player.youku.com/jsapi")>-1){eval(_scripts[i].innerHTML);break}}var YK={};YK.https="https:"==location.protocol?"https:":"http:";var DEBUG__=0,console=window.console;console||(console={},console.log=function(){});var debug={};debug.log=function(e){DEBUG__&&console.log(e)},window.YKU={};var YKP={playerType:"",playerState:{PLAYER_STATE_INIT:"PLAYER_STATE_INIT",PLAYER_STATE_READY:"PLAYER_STATE_READY",PLAYER_STATE_AD:"PLAYER_STATE_AD",PLAYER_STATE_PLAYING:"PLAYER_STATE_PLAYING",PLAYER_STATE_END:"PLAYER_STATE_END",PLAYER_STATE_ERROR:"PLAYER_STATE_ERROR"},playerCurrentState:"PLAYER_STATE_INIT",isLoadFinishH5:!1,isPC:!0,videoList:[],isAndroidYouku:!1},StaticDomain=YK.https+"//player.youku.com";browserRedirect();var urlParameter=function(e){var t=[];for(var i in e)t.push(i+"="+e[i]);return t.join("&")};window.QS=function(){var e={},t=window.location.search.match(new RegExp("[?&][^?&]+=[^?&]+","g"));if(null!=t)for(var i=0;i<t.length;i++){var n=t[i],o=n.indexOf("="),a=n.substring(1,o),r=n.substring(o+1);try{r=decodeURI(r)}catch(s){}"true"==r?r=!0:"false"==r?0==r:r=isNaN(r)?parseJsonStr(r):+r,"undefined"==typeof e[a]?e[a]=r:e[a]instanceof Array?e[a].push(r):e[a]=[e[a],r]}return e};var dynamicLoading={css:function(e){if(!e||0===e.length)throw new Error('argument "path" is required !');var t=document.getElementsByTagName("head")[0],i=document.createElement("link");i.href=e,i.rel="stylesheet",i.type="text/css",t.appendChild(i)},js:function(e,t,i){if(!e||0===e.length)throw new Error('argument "path" is required !');var n=document.getElementsByTagName("head")[0],o=document.createElement("script");o.src=e,o.type="text/javascript",i&&(o.id=i.id,o.setAttribute("pageType",i.pageType),o.setAttribute("isHidden",i.isHidden)),n.appendChild(o),o.onload=function(){t&&(t.selectH5(),YKP.isLoadFinishH5=!0)}}};dynamicLoading.css(YK.https+"//player.youku.com/unifull/css/unifull.min.css");var YoukuPlayerSelect=function(e){return YK.initConfig=e,this._vid=e.vid,this._target=e.target,this._partnerId=e.partnerId,this._videoFlag=e.videoFlag,e.client_id&&(this._partnerId=e.client_id),this._vid&&this._target&&this._partnerId?(this._events=e.events,YK.playerEvents=e.events,this._id=e.id,null==this._id&&(this._id="youku-player"),YKP.playerId=this._id,this._width=e.width,this._height=e.height,this._expand=e.expand,null==e.width||null==e.height?null==e.expand&&(this._expand=0):null==e.expand&&(this._expand=1),this._starttime=e.starttime,this._password=e.password,this._poster=e.poster,this._autoplay=!!e.autoplay,this._canWide=e.canWide,"undefined"!=typeof e.show_related&&(this._showRelated=!!e.show_related),this._embed_content=e.embed_content,this._embed_vid=e.embed_vid,this._cancelFullScreen=e.cancelFullScreen,this._titleStyle=e.titleStyle,this._source=e.source,this._newPlayer=e.newPlayer,this._winType=e.wintype,this._playlistconfig=e.playlistconfig,this._isMobile=YKP.isMobile,this._isMobileIOS=YKP.isMobileIOS,YK.isWeixin=YKP.isWeixin,"undefined"!=typeof e.weixin&&(YK.isWeixin=!!e.weixin),this._loop=!!e.loop||!1,void(this._playerType="")):void alert("[Fail]The params of {vid,target,client_id} are necessary !")};YoukuPlayerSelect.prototype={isSupportFlash:function(){return YKP.isSupportFlash},playerType:function(){return""!=this._playerType?this._playerType:(this.isSupportFlash()?this._playerType="flash":this._playerType="h5",this._playerType)},select:function(){this.selectHandler()},selectHandler:function(){if("h5"==this.playerType()?(YKP.playerType="h5",dynamicLoading.js(YK.https+"//static.youku.com/h5/html/sb/ykbannerLoader/ykbannerLoader.min.js",null,{id:"ykbannerLoader",pageType:"player",isHidden:!0}),YKP.isLoadFinishH5?this.selectH5():dynamicLoading.js(YK.https+"//player.youku.com/unifull/js/unifull.min.js",this)):"flash"==this.playerType()&&(YKP.playerType="flash",this.selectFlash()),this._events&&this._events.onPlayerReady){var e=this._events.onPlayerReady;if("h5"==YKP.playerType)var t=setInterval(function(){try{e()}catch(i){}clearInterval(t)},500);else if("flash"==YKP.playerType)var t=setInterval(function(){try{e()}catch(i){}clearInterval(t)},500)}},selectH5:function(){function e(e){e.style.width=n+"px",e.style.height=o+"px"}var t=this,i=document.getElementById(this._target);if(this._width>0&&this._height>0)i.style.width=this._width+"px",i.style.height=this._height+"px";else{var n=i.style.offsetWidth,o=i.style.offsetHeight;e(i)}var a=0;1==t._cancelFullScreen&&YKP.isAndroidYouku&&(a=1);var r={videoId:t._vid,ccode:"0590",client_id:t._partnerId,control:{laguange:"",hd:"mp4hd",autoplay:!1},logconfig:{},adConfig:{},password:t._password,wintype:"",type:"",events:t._events,embed_vid:t._embed_vid,embed_content:t._embed_content,titleStyle:t._titleStyle,source:t._source,closeFullFullScreen:a,isIphoneYouku:YKP.isIphoneYouku,imgPoster:t._poster};this._h5player=YKPlayer.Player(this._target,r)},onorientationchange:function(){var e=document.getElementById(this._target);setTimeout(function(){var t=document.documentElement.clientWidth;document.documentElement.clientHeight;e.style.width=t+"px",e.style.height=9*t/16+"px"},300)},isThirdParty:function(){var e=this._partnerId;return null!=e&&16==(e+"").length},selectFlash:function(){var e={imglogo:this._poster||"",partnerId:this._partnerId};this._loop&&(e.isLoop="true"),null!=YK.initConfig.firsttime&&(e.firsttime=YK.initConfig.firsttime),null!=YK.initConfig.embsig&&(e.embsig=YK.initConfig.embsig),null!=YK.initConfig.password&&(e.passwordstr=YK.initConfig.password),null!=YK.initConfig.styleid&&(e.styleid=YK.initConfig.styleid),null!=YK.initConfig.vext&&(e.vext=YK.initConfig.vext);for(var t in YK.initConfig.adconfig)e[t]=YK.initConfig.adconfig[t];for(var t in YK.initConfig.flashconfig)e[t]=YK.initConfig.flashconfig[t];var i={sid:this._vid,isAutoPlay:this._autoplay,isShowRelatedVideo:this._showRelated,winType:this._winType,newPlayer:this._newPlayer,videoFlag:this._videoFlag};this.isThirdParty()&&!e.delayload&&(i.partnerid=this._partnerId);var n=StaticDomain+"/player.php/";for(var o in i){var a=i[o];"undefined"!=typeof a&&""!==a&&(n+=o+"/"+a+"/")}if(n+="v.swf",YK.initConfig.events){var r=YK.initConfig.events.onPlayStart;"function"==typeof r&&"undefined"==typeof window.onPlayerStart&&(window.onPlayerStart=function(e){r(e)});var s=YK.initConfig.events.onPlayEnd;"function"==typeof s&&"undefined"==typeof window.onPlayerComplete&&(window.onPlayerComplete=function(e){s(e)});var l=YK.initConfig.events.onPlay;"function"==typeof l&&"undefined"==typeof window.onPlay&&(window.onPlay=function(e){l(e)});var h=YK.initConfig.events.onPause;"function"==typeof h&&"undefined"==typeof window.onPause&&(window.onPause=function(e){h(e)});var p=YK.initConfig.events.onWaiting;"function"==typeof p&&"undefined"==typeof window.onWaiting&&(window.onWaiting=function(e){p(e)});var d=YK.initConfig.events.onFullScreen;"function"==typeof d&&"undefined"==typeof window.onFullScreen&&(window.onFullScreen=function(e){d(e)});var c=YK.initConfig.events.onPlayError;"function"==typeof c&&"undefined"==typeof window.onPlayerError&&(window.onPlayerError=function(e){var t=e.code||"1000";"4000"!=t&&c(e.message||"鎾斁鍑洪敊",e)})}var u={allowFullScreen:!0,allowScriptAccess:"always",movie:n,flashvars:e};YK.initConfig.wmode&&(u.wmode=YK.initConfig.wmode);var y=YK.initConfig.flashparam;if(y&&"object"==typeof y)for(var o in y)u[o]=y[o];var f="";for(var t in u){var a=u[t];"object"==typeof a&&(a=urlParameter(a)),f+="<param name="+t+" value="+a+">"}f+=decodeURI(YK.initConfig.flashext||""),document.getElementById(this._target).innerHTML="<object type=application/x-shockwave-flash data= "+n+" width=100% height=100% id="+this._id+">"+f+"</object>",this._expand&&(document.getElementById(this._target).style.width=this._width+"px",document.getElementById(this._target).style.height=this._height+"px")}},YKU.Player=function(e,t){t.target=e,this.select=new YoukuPlayerSelect(t),this.select.select(),this._player=""},YKU.Player.prototype={player:function(){return""!=this._player?this._player:("h5"==YKP.playerType?this._player=new YKH5Player(this.select._h5player):"flash"==YKP.playerType?this._player=new YKFlashPlayer:this._player="error",this._player)},resize:function(e,t){this.player().resize(e,t)},currentTime:function(){return this.player().currentTime()},totalTime:function(){return this.player().totalTime()},playVideo:function(){this.player().playVideo()},startPlayVideo:function(){this.player().startPlayVideo()},pauseVideo:function(){this.player().pauseVideo()},seekTo:function(e){this.player().seekTo(e)},hideControls:function(){this.player().hideControls()},showControls:function(){this.player().showControls()},playVideoById:function(e){this.player().playVideoById(e)},switchFullScreen:function(){try{this.player().switchFullScreen()}catch(e){}}};var YKFlashPlayer=function(){this._player=document.getElementById(YKP.playerId)};YKFlashPlayer.prototype={resize:function(e,t){this._player.style.width=e+"px",this._player.style.height=t+"px"},currentTime:function(){var e=this._player.getPlayerState().split("|");return e.length>=3?e[2]:-1},totalTime:function(){var e=this._player.getPlayerState().split("|");return e.length>=4?e[3]:-1},playVideo:function(){this._player.pauseVideo(!1)},pauseVideo:function(){this._player.pauseVideo(!0)},seekTo:function(e){this._player.nsseek(e)},playVideoById:function(e){this._player.playVideoByID(e)},hideControls:function(){this._player.showControlBar(!1)},showControls:function(){this._player.showControlBar(!0)},state:function(){this._player.state()}};var YKH5Player=function(e){this._player=e};YKH5Player.prototype={currentTime:function(){return this._player.currentTime},totalTime:function(){return this._player.totalTime},playVideo:function(){this._player.play()},pauseVideo:function(){this._player.pause()},seekTo:function(e){try{this._player.seek(e)}catch(t){}}},executeScript();